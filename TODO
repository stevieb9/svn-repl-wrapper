- get thread ids and write monitoring proc
- change to obj oriented
- change setters to getter/setters
